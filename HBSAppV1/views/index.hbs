<!--Resources-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js"></script>
<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
<!--HTML-->
        <h1>Steen Papier schaar!</h1>
        <div id="future"></div>
        <form id="form" id="chat_form">
            <input id="Room" type="text">
            <input type="submit" value="join">
        </form>
        <button id="call">call the room</button>

        <div class="player_count"></div>
        <div class="choices">
            <img id="image_scissor" src="https://cdn0.iconfinder.com/data/icons/rock-paper-scissors-emoji/792/rock-paper-scissors-emoji-cartoon-014-512.png" height="200"/>
            <img id="image_paper" src="https://cdn0.iconfinder.com/data/icons/rock-paper-scissors-emoji/792/rock-paper-scissors-emoji-cartoon-005-512.png" height="200"/>
            <img id="image_rock" src="https://cdn0.iconfinder.com/data/icons/rock-paper-scissors-emoji/792/rock-paper-scissors-emoji-cartoon-016-512.png" height="200"/>
        </div>

<!--Scripts-->
<script>
    var conJordy =  'http://192.168.1.21:4200';
    var conTim =  'http://192.168.1.20:4200';
    var conNick = 'http://localhost:4200';
    var socket = io.connect(conTim);

 socket.on('connect', function(data) {

 });

 socket.on('broad', function(data) {
         $('body').append("Message: " + data + "<br>");
   });

 socket.on('UpdateAmountOfPlayers', function (amount_of_players) {
     $('.player_count').html('<p>Amount of players: ' + amount_of_players +'</p>');
 })

 var room = "";

 $('form').submit(function(e){
     e.preventDefault();
     room = $('#Room').val();
     socket.emit('Room', room);
     // dit verwijderd de join room form voor testen uitgeschakeld
//     $('form').html('');
     console.log("User joined room: " + room);
 });

 $('#call').click(function () {
     socket.emit('Call', room);
     console.log('calling');
 })

 socket.on('message', function (data) {
     alert(data);
     console.log('incoming message: ', data);
 })

// Added since first release
 $('#image_scissor').click(function () {
     console.log("Schaar geklikt!")
     socket.emit('choice', "scissor");
     $('.choices').addClass('hide');
 })

 $('#image_paper').click(function () {
     console.log("Papier geklikt!")
     socket.emit('choice', "paper");
     $('.choices').addClass('hide');
 })

 $('#image_rock').click(function () {
     console.log("Steen geklikt!")
     socket.emit('choice', "rock");
     $('.choices').addClass('hide');
 })

 socket.on('choice', function(data, user_id) {
     $('body').append("keuze: " + data + " " + user_id + "<br>");
 });

</script>